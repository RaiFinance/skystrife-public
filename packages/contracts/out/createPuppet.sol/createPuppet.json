{"abi":[],"bytecode":{"object":"0x","linkReferences":{}},"deployedBytecode":{"object":"0x","linkReferences":{}},"ast":{"absolutePath":"node_modules/@latticexyz/world-modules/src/modules/puppet/createPuppet.sol","id":246524,"exportedSymbols":{"IBaseWorld":[106860],"PUPPET_DELEGATION":[246420],"PUPPET_FACTORY":[246438],"Puppet":[104340],"PuppetDelegationControl":[249221],"PuppetFactorySystem":[249280],"ResourceId":[90310],"WorldResourceIdInstance":[106789],"createPuppet":[246523]},"nodeType":"SourceUnit","src":"32:1090:222","nodes":[{"id":246458,"nodeType":"PragmaDirective","src":"32:25:222","nodes":[],"literals":["solidity",">=","0.8",".21"]},{"id":246460,"nodeType":"ImportDirective","src":"59:66:222","nodes":[],"absolutePath":"node_modules/@latticexyz/store/src/ResourceId.sol","file":"@latticexyz/store/src/ResourceId.sol","nameLocation":"-1:-1:-1","scope":246524,"sourceUnit":90382,"symbolAliases":[{"foreign":{"id":246459,"name":"ResourceId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":90310,"src":"68:10:222","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":246462,"nodeType":"ImportDirective","src":"126:85:222","nodes":[],"absolutePath":"node_modules/@latticexyz/world/src/codegen/interfaces/IBaseWorld.sol","file":"@latticexyz/world/src/codegen/interfaces/IBaseWorld.sol","nameLocation":"-1:-1:-1","scope":246524,"sourceUnit":106861,"symbolAliases":[{"foreign":{"id":246461,"name":"IBaseWorld","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":106860,"src":"135:10:222","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":246464,"nodeType":"ImportDirective","src":"212:84:222","nodes":[],"absolutePath":"node_modules/@latticexyz/world/src/WorldResourceId.sol","file":"@latticexyz/world/src/WorldResourceId.sol","nameLocation":"-1:-1:-1","scope":246524,"sourceUnit":106790,"symbolAliases":[{"foreign":{"id":246463,"name":"WorldResourceIdInstance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":106789,"src":"221:23:222","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":246467,"nodeType":"ImportDirective","src":"297:68:222","nodes":[],"absolutePath":"node_modules/@latticexyz/world-modules/src/modules/puppet/constants.sol","file":"./constants.sol","nameLocation":"-1:-1:-1","scope":246524,"sourceUnit":246457,"symbolAliases":[{"foreign":{"id":246465,"name":"PUPPET_DELEGATION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":246420,"src":"306:17:222","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":246466,"name":"PUPPET_FACTORY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":246438,"src":"325:14:222","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":246469,"nodeType":"ImportDirective","src":"366:72:222","nodes":[],"absolutePath":"node_modules/@latticexyz/world-modules/src/modules/puppet/PuppetDelegationControl.sol","file":"./PuppetDelegationControl.sol","nameLocation":"-1:-1:-1","scope":246524,"sourceUnit":249222,"symbolAliases":[{"foreign":{"id":246468,"name":"PuppetDelegationControl","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":249221,"src":"375:23:222","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":246471,"nodeType":"ImportDirective","src":"439:38:222","nodes":[],"absolutePath":"node_modules/@latticexyz/world-modules/src/modules/puppet/Puppet.sol","file":"./Puppet.sol","nameLocation":"-1:-1:-1","scope":246524,"sourceUnit":104341,"symbolAliases":[{"foreign":{"id":246470,"name":"Puppet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104340,"src":"448:6:222","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":246473,"nodeType":"ImportDirective","src":"478:64:222","nodes":[],"absolutePath":"node_modules/@latticexyz/world-modules/src/modules/puppet/PuppetFactorySystem.sol","file":"./PuppetFactorySystem.sol","nameLocation":"-1:-1:-1","scope":246524,"sourceUnit":249281,"symbolAliases":[{"foreign":{"id":246472,"name":"PuppetFactorySystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":249280,"src":"487:19:222","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":246477,"nodeType":"UsingForDirective","src":"544:45:222","nodes":[],"global":false,"libraryName":{"id":246474,"name":"WorldResourceIdInstance","nameLocations":["550:23:222"],"nodeType":"IdentifierPath","referencedDeclaration":106789,"src":"550:23:222"},"typeName":{"id":246476,"nodeType":"UserDefinedTypeName","pathNode":{"id":246475,"name":"ResourceId","nameLocations":["578:10:222"],"nodeType":"IdentifierPath","referencedDeclaration":90310,"src":"578:10:222"},"referencedDeclaration":90310,"src":"578:10:222","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$90310","typeString":"ResourceId"}}},{"id":246523,"nodeType":"FunctionDefinition","src":"799:322:222","nodes":[],"body":{"id":246522,"nodeType":"Block","src":"885:236:222","nodes":[],"statements":[{"expression":{"id":246507,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":246489,"name":"puppet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":246487,"src":"889:6:222","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"id":246494,"name":"PUPPET_FACTORY","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":246438,"src":"925:14:222","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$90310","typeString":"ResourceId"}},{"arguments":[{"expression":{"id":246497,"name":"PuppetFactorySystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":249280,"src":"956:19:222","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_PuppetFactorySystem_$249280_$","typeString":"type(contract PuppetFactorySystem)"}},"id":246498,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"976:12:222","memberName":"createPuppet","nodeType":"MemberAccess","referencedDeclaration":249279,"src":"956:32:222","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_userDefinedValueType$_ResourceId_$90310_$returns$_t_address_$","typeString":"function PuppetFactorySystem.createPuppet(ResourceId) returns (address)"}},{"components":[{"id":246499,"name":"systemId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":246484,"src":"991:8:222","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$90310","typeString":"ResourceId"}}],"id":246500,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"990:10:222","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$90310","typeString":"ResourceId"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_function_declaration_nonpayable$_t_userDefinedValueType$_ResourceId_$90310_$returns$_t_address_$","typeString":"function PuppetFactorySystem.createPuppet(ResourceId) returns (address)"},{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$90310","typeString":"ResourceId"}],"expression":{"id":246495,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"941:3:222","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":246496,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"945:10:222","memberName":"encodeCall","nodeType":"MemberAccess","src":"941:14:222","typeDescriptions":{"typeIdentifier":"t_function_abiencodecall_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":246501,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"941:60:222","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$90310","typeString":"ResourceId"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":246492,"name":"world","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":246481,"src":"914:5:222","typeDescriptions":{"typeIdentifier":"t_contract$_IBaseWorld_$106860","typeString":"contract IBaseWorld"}},"id":246493,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"920:4:222","memberName":"call","nodeType":"MemberAccess","referencedDeclaration":106123,"src":"914:10:222","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_userDefinedValueType$_ResourceId_$90310_$_t_bytes_memory_ptr_$returns$_t_bytes_memory_ptr_$","typeString":"function (ResourceId,bytes memory) payable external returns (bytes memory)"}},"id":246502,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"914:88:222","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":246504,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1009:7:222","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":246503,"name":"address","nodeType":"ElementaryTypeName","src":"1009:7:222","typeDescriptions":{}}}],"id":246505,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"1008:9:222","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"}],"expression":{"id":246490,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"898:3:222","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":246491,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"902:6:222","memberName":"decode","nodeType":"MemberAccess","src":"898:10:222","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":246506,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"898:123:222","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"889:132:222","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":246508,"nodeType":"ExpressionStatement","src":"889:132:222"},{"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":246512,"name":"systemId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":246484,"src":"1059:8:222","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$90310","typeString":"ResourceId"}},"id":246513,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1068:14:222","memberName":"getNamespaceId","nodeType":"MemberAccess","referencedDeclaration":106714,"src":"1059:23:222","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ResourceId_$90310_$returns$_t_userDefinedValueType$_ResourceId_$90310_$attached_to$_t_userDefinedValueType$_ResourceId_$90310_$","typeString":"function (ResourceId) pure returns (ResourceId)"}},"id":246514,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1059:25:222","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$90310","typeString":"ResourceId"}},{"id":246515,"name":"PUPPET_DELEGATION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":246420,"src":"1086:17:222","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$90310","typeString":"ResourceId"}},{"arguments":[{"hexValue":"30","id":246518,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1115:1:222","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":246517,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"1105:9:222","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_bytes_memory_ptr_$","typeString":"function (uint256) pure returns (bytes memory)"},"typeName":{"id":246516,"name":"bytes","nodeType":"ElementaryTypeName","src":"1109:5:222","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},"id":246519,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1105:12:222","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$90310","typeString":"ResourceId"},{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$90310","typeString":"ResourceId"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":246509,"name":"world","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":246481,"src":"1025:5:222","typeDescriptions":{"typeIdentifier":"t_contract$_IBaseWorld_$106860","typeString":"contract IBaseWorld"}},"id":246511,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1031:27:222","memberName":"registerNamespaceDelegation","nodeType":"MemberAccess","referencedDeclaration":255435,"src":"1025:33:222","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_userDefinedValueType$_ResourceId_$90310_$_t_userDefinedValueType$_ResourceId_$90310_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (ResourceId,ResourceId,bytes memory) external"}},"id":246520,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1025:93:222","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":246521,"nodeType":"ExpressionStatement","src":"1025:93:222"}]},"documentation":{"id":246478,"nodeType":"StructuredDocumentation","src":"591:207:222","text":" This free function can be used to create a puppet and register it with the puppet delegation control.\n Since it is inlined in the caller's context, the calls originate from the caller's address."},"implemented":true,"kind":"freeFunction","modifiers":[],"name":"createPuppet","nameLocation":"808:12:222","parameters":{"id":246485,"nodeType":"ParameterList","parameters":[{"constant":false,"id":246481,"mutability":"mutable","name":"world","nameLocation":"832:5:222","nodeType":"VariableDeclaration","scope":246523,"src":"821:16:222","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IBaseWorld_$106860","typeString":"contract IBaseWorld"},"typeName":{"id":246480,"nodeType":"UserDefinedTypeName","pathNode":{"id":246479,"name":"IBaseWorld","nameLocations":["821:10:222"],"nodeType":"IdentifierPath","referencedDeclaration":106860,"src":"821:10:222"},"referencedDeclaration":106860,"src":"821:10:222","typeDescriptions":{"typeIdentifier":"t_contract$_IBaseWorld_$106860","typeString":"contract IBaseWorld"}},"visibility":"internal"},{"constant":false,"id":246484,"mutability":"mutable","name":"systemId","nameLocation":"850:8:222","nodeType":"VariableDeclaration","scope":246523,"src":"839:19:222","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$90310","typeString":"ResourceId"},"typeName":{"id":246483,"nodeType":"UserDefinedTypeName","pathNode":{"id":246482,"name":"ResourceId","nameLocations":["839:10:222"],"nodeType":"IdentifierPath","referencedDeclaration":90310,"src":"839:10:222"},"referencedDeclaration":90310,"src":"839:10:222","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ResourceId_$90310","typeString":"ResourceId"}},"visibility":"internal"}],"src":"820:39:222"},"returnParameters":{"id":246488,"nodeType":"ParameterList","parameters":[{"constant":false,"id":246487,"mutability":"mutable","name":"puppet","nameLocation":"877:6:222","nodeType":"VariableDeclaration","scope":246523,"src":"869:14:222","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":246486,"name":"address","nodeType":"ElementaryTypeName","src":"869:7:222","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"868:16:222"},"scope":246524,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"license":"MIT"},"id":222}